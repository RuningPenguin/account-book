// 文档教程: https://uniapp.dcloud.net.cn/uniCloud/schema
{
  "bsonType": "object",
  "description": "预算记录表",
  "required": ["uid", "money", "budget_money", "budget_type"],
  "permission": {
    "read": true,
    "create": true,
    "update": true,
    "delete": true
  },
  "properties": {
    "_id": {
      "description": "ID，系统自动生成"
    },

    "uid": {
      "description": "所属用户id",
      "foreignKey": "uni-id-users._id",
      "errorMessage": "检查{uid}数据",
      "forceDefaultValue": {
        "$env": "uid"
      }
    },

    "money": {
      "bsonType": "number",
      "description": "预算金额",
      "errorMessage": "{money} 不能为空"
    },

    "budget_money": {
      "bsonType": "number",
      "description": "预算类型金额",
      "errorMessage": "{budget_money} 不能为空",
      "defaultValue": 0
    },

    "budget_type": {
      "bsonType": "string",
      "description": "预算类型",
      "errorMessage": "{budget_type} 不能为空",
      "defaultValue": "all",
      "enum": [{
          "value": "all",
          "text": "本月预算"
        },
        {
          "value": "chat",
          "text": "社交"
        },
        {
          "value": "red-packet",
          "text": "红包"
        },
        {
          "value": "home",
          "text": "住房"
        }, {
          "value": "shopping-cart",
          "text": "购物"
        },
        {
          "value": "phone",
          "text": "通讯"
        },
        {
          "value": "car",
          "text": "交通"
        },
        {
          "value": "question-circle",
          "text": "其他"
        },
        {
          "value": "rmb-circle",
          "text": "工资"
        },
        {
          "value": "red-packet",
          "text": "红包"
        },
        {
          "value": "man-add",
          "text": "兼职"
        }
      ]
    },

    "create_date": {
      "bsonType": "timestamp",
      "description": "创建时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    },
    "last_update_date": {
      "bsonType": "timestamp",
      "description": "最后一次修改时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    }
  }
}
